(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0b59a6"],{"1a33":function(e,n,t){"use strict";t.r(n);var a=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{staticClass:"home"},[e.message?t("ModalWindow",[t("p",[e._v(e._s(e.message))]),t("button",{on:{click:e.onMessageClose}},[e._v("OK")])]):e._e(),e.inputJoinCodeVisible?t("ModalWindow",[t("div",{staticStyle:{width:"16em",display:"flex","flex-direction":"column","justify-content":"center"}},[t("div",{staticClass:"header"},[e._v(" ID: ")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.gameId,expression:"gameId"}],ref:"input",domProps:{value:e.gameId},on:{input:function(n){n.target.composing||(e.gameId=n.target.value)}}}),t("div",{staticStyle:{display:"flex","justify-content":"center"}},[t("button",{on:{click:e.onMessageOk}},[e._v("OK")]),t("button",{on:{click:e.onJoinMessageClose}},[e._v("Отмена")])])])]):e._e(),t("button",{on:{click:e.onJoinGame}},[e._v("Присоединиться к игре")]),t("button",{on:{click:e.onNewGame}},[e._v("Новая игра")])],1)},o=[],r=(t("96cf"),t("1da1")),s=t("2fa2"),i=t("83af"),c={components:{ModalWindow:s["a"]},data:function(){return{inputJoinCodeVisible:!1,gameId:null,message:null}},methods:{onMessageClose:function(){this.message=!1},onJoinMessageClose:function(){this.inputJoinCodeVisible=!1},onJoinGame:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:e.inputJoinCodeVisible=!0,e.$nextTick((function(){e.$refs.input.focus()}));case 2:case"end":return n.stop()}}),n)})))()},onNewGame:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function n(){var t,a,o,r,s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,i["a"].api.post("/newGame");case 3:if(t=n.sent,a=t.data.error,!a){n.next=9;break}e.message=a,n.next=15;break;case 9:return o=t.data.game,r=o.gameId,s="w",localStorage.setItem("chessGame",JSON.stringify({gameId:r,myColor:s})),n.next=15,e.$router.push("/game");case 15:n.next=20;break;case 17:n.prev=17,n.t0=n["catch"](0),console.error(n.t0);case 20:case"end":return n.stop()}}),n,null,[[0,17]])})))()},onMessageOk:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function n(){var t,a,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return e.inputJoinCodeVisible=!1,n.prev=1,n.next=4,i["a"].api.post("/joinGame",{gameId:e.gameId});case 4:if(t=n.sent,a=t.data.error,!a){n.next=10;break}e.message=a,n.next=14;break;case 10:return o="b",localStorage.setItem("chessGame",JSON.stringify({gameId:e.gameId,myColor:o})),n.next=14,e.$router.push("/game");case 14:n.next=19;break;case 16:n.prev=16,n.t0=n["catch"](1),console.error(n.t0);case 19:case"end":return n.stop()}}),n,null,[[1,16]])})))()}}},u=c,l=t("2877"),m=Object(l["a"])(u,a,o,!1,null,null,null);n["default"]=m.exports}}]);
//# sourceMappingURL=chunk-2d0b59a6.0ef9c357.js.map